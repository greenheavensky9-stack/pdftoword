<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" href="favicon-16x16.png" type="image/x-icon">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Image Rotator/Flipper Tool - Free Converter Tools</title>
  <style>
    :root {
      --primary-red: #e74c3c;
      --dark-red: #c0392b;
      --light-red: #f9ebea;
      --white: #ffffff;
      --text-dark: #1e293b;
      --text-light: #64748b;
      --bg-gray: #f8fafc;
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --rounded: 8px;
      --transition: all 0.3s ease;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--bg-gray);
      color: var(--text-dark);
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
    }

    .container {
      max-width: 600px;
      width: 100%;
      margin: 2rem auto;
      padding: 2rem;
      background-color: var(--white);
      border-radius: var(--rounded);
      box-shadow: var(--shadow);
      text-align: center;
    }

    h1 {
      color: var(--primary-red);
      margin-bottom: 1.5rem;
    }

    .upload-section {
      margin: 1.5rem 0;
    }

    .file-input-label {
      display: block;
      padding: 1.5rem;
      border: 2px dashed var(--light-red);
      border-radius: var(--rounded);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      color: var(--text-light);
      margin-bottom: 1rem;
    }

    .file-input-label:hover {
      border-color: var(--primary-red);
      background-color: var(--light-red);
    }

    #image-upload {
      display: none;
    }

    .file-info {
      margin-top: 1rem;
      padding: 0.75rem;
      background-color: var(--light-red);
      border-radius: var(--rounded);
      text-align: left;
      display: none;
    }

    .file-info p {
      margin: 0.25rem 0;
      font-size: 0.9rem;
    }

    .controls {
      margin: 1.5rem 0;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }

    .control-btn {
      background-color: var(--primary-red);
      color: var(--white);
      border: none;
      padding: 0.75rem 1rem;
      cursor: pointer;
      border-radius: var(--rounded);
      flex: 1 1 40%;
      max-width: 180px;
      font-weight: 500;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .control-btn:hover {
      background-color: var(--dark-red);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .control-btn:disabled {
      background-color: var(--text-light);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .preview {
      margin: 1.5rem 0;
      max-height: 400px;
      overflow: auto;
      border: 1px solid var(--light-red);
      border-radius: var(--rounded);
      padding: 15px;
      background-color: var(--light-red);
    }

    #image-preview {
      max-width: 100%;
      max-height: 350px;
      transition: transform 0.3s ease;
      border-radius: var(--rounded);
    }

    .transform-info {
      margin: 1rem 0;
      padding: 0.75rem;
      background-color: #e8f5e8;
      border-radius: var(--rounded);
      text-align: left;
      display: none;
    }

    .transform-info p {
      margin: 0.25rem 0;
      font-size: 0.9rem;
    }

    .download {
      margin-top: 1.5rem;
    }

    .download-btn {
      background-color: var(--primary-red);
      color: var(--white);
      padding: 0.75rem 1.5rem;
      border: none;
      border-radius: var(--rounded);
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: var(--transition);
      width: 100%;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .download-btn:hover {
      background-color: var(--dark-red);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .download-btn:disabled {
      background-color: var(--text-light);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .back-link {
      display: inline-block;
      margin-top: 1.5rem;
      color: var(--primary-red);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      text-align: center;
      width: 100%;
    }

    .back-link:hover {
      color: var(--dark-red);
      text-decoration: underline;
    }

    .reset-btn {
      background-color: var(--text-light);
      color: var(--white);
      border: none;
      padding: 0.75rem 1rem;
      cursor: pointer;
      border-radius: var(--rounded);
      font-weight: 500;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      width: 100%;
      margin-top: 0.5rem;
    }

    .reset-btn:hover {
      background-color: var(--text-dark);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 600px) {
      .container {
        padding: 1.5rem;
        margin: 1rem;
      }

      .controls {
        flex-direction: column;
      }

      .control-btn {
        max-width: none;
        width: 100%;
      }
      
      body {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Image Rotator/Flipper Tool</h1>
    
    <div class="upload-section">
      <label for="image-upload" class="file-input-label">
        <i class="fas fa-cloud-upload-alt"></i> Choose an image to rotate or flip
      </label>
      <input type="file" id="image-upload" accept="image/*">
      
      <div class="file-info" id="fileInfo">
        <p><strong>File Name:</strong> <span id="fileName"></span></p>
        <p><strong>Original Dimensions:</strong> <span id="originalDimensions"></span></p>
      </div>
    </div>
    
    <div class="controls">
      <button class="control-btn" id="rotate-left" disabled>
        <i class="fas fa-undo"></i> Rotate Left
      </button>
      <button class="control-btn" id="rotate-right" disabled>
        <i class="fas fa-redo"></i> Rotate Right
      </button>
      <button class="control-btn" id="flip-horizontal" disabled>
        <i class="fas fa-arrows-alt-h"></i> Flip Horizontal
      </button>
      <button class="control-btn" id="flip-vertical" disabled>
        <i class="fas fa-arrows-alt-v"></i> Flip Vertical
      </button>
    </div>
    
    <button class="reset-btn" id="reset-btn" disabled>
      <i class="fas fa-sync"></i> Reset Transformations
    </button>
    
    <div class="preview">
      <img id="image-preview" src="" alt="Image Preview" />
    </div>
    
    <div class="transform-info" id="transformInfo">
      <p><strong>Current Transformations:</strong></p>
      <p><strong>Rotation:</strong> <span id="rotationValue">0°</span></p>
      <p><strong>Flip Horizontal:</strong> <span id="flipHorizontalValue">No</span></p>
      <p><strong>Flip Vertical:</strong> <span id="flipVerticalValue">No</span></p>
    </div>
    
    <div class="download">
      <a id="download-link" href="#" download="edited_image.jpg" class="download-btn" disabled>
        <i class="fas fa-download"></i> Download Edited Image
      </a>
    </div>
    
    <a href="index.html" class="back-link">← Back to All Tools</a>
  </div>

  <script>
    let imagePreview = document.getElementById('image-preview');
    let imageUpload = document.getElementById('image-upload');
    let rotateLeftBtn = document.getElementById('rotate-left');
    let rotateRightBtn = document.getElementById('rotate-right');
    let flipHorizontalBtn = document.getElementById('flip-horizontal');
    let flipVerticalBtn = document.getElementById('flip-vertical');
    let downloadLink = document.getElementById('download-link');
    let resetBtn = document.getElementById('reset-btn');
    let fileInfo = document.getElementById('fileInfo');
    let fileName = document.getElementById('fileName');
    let originalDimensions = document.getElementById('originalDimensions');
    let transformInfo = document.getElementById('transformInfo');
    let rotationValue = document.getElementById('rotationValue');
    let flipHorizontalValue = document.getElementById('flipHorizontalValue');
    let flipVerticalValue = document.getElementById('flipVerticalValue');

    let rotation = 0;
    let flipHorizontal = false;
    let flipVertical = false;
    let originalWidth = 0;
    let originalHeight = 0;

    imageUpload.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (file) {
        // Update file input label
        const fileLabel = document.querySelector('.file-input-label');
        fileLabel.innerHTML = `<i class="fas fa-check"></i> ${file.name}`;
        fileLabel.style.borderColor = '#4CAF50';
        fileLabel.style.color = '#4CAF50';
        
        // Update file info
        fileName.textContent = file.name;
        fileInfo.style.display = 'block';
        
        let reader = new FileReader();
        reader.onload = function(e) {
          imagePreview.src = e.target.result;
          
          // Get original dimensions when image loads
          imagePreview.onload = function() {
            originalWidth = imagePreview.naturalWidth;
            originalHeight = imagePreview.naturalHeight;
            originalDimensions.textContent = `${originalWidth} × ${originalHeight} px`;
            
            // Enable controls
            rotateLeftBtn.disabled = false;
            rotateRightBtn.disabled = false;
            flipHorizontalBtn.disabled = false;
            flipVerticalBtn.disabled = false;
            resetBtn.disabled = false;
            downloadLink.disabled = false;
            
            // Reset transformations
            resetTransformations();
          };
        };
        reader.readAsDataURL(file);
      }
    });

    rotateLeftBtn.addEventListener('click', () => {
      rotation -= 90;
      updateImage();
    });

    rotateRightBtn.addEventListener('click', () => {
      rotation += 90;
      updateImage();
    });

    flipHorizontalBtn.addEventListener('click', () => {
      flipHorizontal = !flipHorizontal;
      updateImage();
    });

    flipVerticalBtn.addEventListener('click', () => {
      flipVertical = !flipVertical;
      updateImage();
    });

    resetBtn.addEventListener('click', () => {
      resetTransformations();
    });

    function resetTransformations() {
      rotation = 0;
      flipHorizontal = false;
      flipVertical = false;
      updateImage();
    }

    function updateImage() {
      // Apply transformations
      imagePreview.style.transform = `rotate(${rotation}deg)` +
        (flipHorizontal ? ' scaleX(-1)' : '') +
        (flipVertical ? ' scaleY(-1)' : '');
      
      // Update transformation info
      rotationValue.textContent = `${rotation}°`;
      flipHorizontalValue.textContent = flipHorizontal ? 'Yes' : 'No';
      flipVerticalValue.textContent = flipVertical ? 'Yes' : 'No';
      transformInfo.style.display = 'block';
      
      updateDownloadLink();
    }

    function updateDownloadLink() {
      if (!imagePreview.src) return;

      let canvas = document.createElement('canvas');
      let ctx = canvas.getContext('2d');
      let img = new Image();
      img.crossOrigin = "anonymous";
      img.src = imagePreview.src;

      img.onload = function() {
        let w = img.width;
        let h = img.height;

        if (rotation % 180 !== 0) {
          canvas.width = h;
          canvas.height = w;
        } else {
          canvas.width = w;
          canvas.height = h;
        }

        ctx.translate(canvas.width / 2, canvas.height / 2);
        ctx.rotate(rotation * Math.PI / 180);
        ctx.scale(flipHorizontal ? -1 : 1, flipVertical ? -1 : 1);
        ctx.drawImage(img, -w / 2, -h / 2);

        downloadLink.href = canvas.toDataURL("image/jpeg");
      };
    }
  </script>
  
  <!-- Font Awesome for icons -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
</body>
</html>
